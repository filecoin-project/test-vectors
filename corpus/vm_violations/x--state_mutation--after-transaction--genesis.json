{
	"class": "message",
	"selector": {
		"chaos_actor": "true"
	},
	"hints": [
		"incorrect",
		"negate"
	],
	"_meta": {
		"id": "after-transaction",
		"version": "v1",
		"description": "test an actor cannot ILLEGALLY mutate state acquired for transaction but used after the transaction has ended",
		"comment": "should abort with SysErrorIllegalActor, not succeed with Ok, see https://github.com/filecoin-project/lotus/issues/3545",
		"gen": [
			{
				"source": "genscript",
				"version": "2d04fd8a104bce7f4460e4aa4994627d8cdaa534"
			},
			{
				"source": "github.com/filecoin-project/lotus",
				"version": "v1.1.4-0.20201117223607-62594a97a5b5"
			},
			{
				"source": "github.com/filecoin-project/specs-actors",
				"version": "v0.9.13"
			},
			{
				"source": "github.com/filecoin-project/specs-actors/v2",
				"version": "v2.3.2"
			}
		]
	},
	"car": "H4sIAAAAAAAA/0pflFqUn19S3HRDK0KdgbFwwRMmhbAlEgx3ZqzneJG1Xd5V4KPoPF+5i2cbw/x6p3jqTb4R/AtJqanFV03n/PVhMv3yH9TfppXsefoi465Rqrg2a1TZGWHW2vSy1KLizPw8xm1sxJnd5NLiw8/QuTDRsLHJiYGt5YZWhDQDYyiDWFpmjr6hfllqUWZaZmpKUWp6ZnFJUSWSUzhuJm0plhAq+jLtiJao21/BU6ufWe7fu8/21PkJ1ltXtx1gcIAaytJyQyscZKYQxMzikvyixPTUgvzy1CIk87i12qbUnt2Vf2jhOoVX6/tSDm6RfzhV8HjK5ffnbVed+bYbbl5Syw2tAJB53BDzkjMS84uRDJrek/7lxlItRqkp2XWfDM4Wxdk450rvOd850/1HsFpt1xywQU1NTgzMLTe0/EEGcUENKsrPQzIn9eKt6ymTzly9ICBZeyj76m/2A+dbz9xZ/0mg5cCV6r/ikQwOTU4MyS03tIJAZvBCzEhMTs4vzStBMua+a8mxzQt3Zp3Ys2HKluk1kzV7K3IuvP+16dLzJdely2dwwf3F0HJDKxBkFA80nCqLS1JzkUxy3XD+kMK5N9E1MklHrkjaWjx5vaSvQ7RozvP4OVwbnhxEhDgrKBolQEYJowR5bmJRdiqy26J+bCw21X26vnuTlTSrmvmLacJlb348uZGWk715AUdvYS7cREa0oMrMy0Q2Zymb3ezfM/ZVLnd9uVni2FaRd6InpY/tFb7afkOv+fmxihy4OSkEg+uM6rGSFXmhT2xTvV8xMWytlfU3jxYRMnJcxhdbvnTVW2YGN4YXV5YKMEANZEILtKLU8sSiFCTzJNTC5D6FLOMT/HTyE+8j0WsMr9jEbpZElTz7+Ui4IPxsMoMvA1tZTKX9QobKCwwMDAa40z520QZG4rJDsxNDALKz/mWdSVy8OJvH3MbLqm+Zd6P2p1OzgxoCJsypuMIR2sVDglJN4pQ1OTRoYM+EmCJ7GYnLkxMcoKApQoKB6U4OAxYQzsB8AJs4AwMJfmRQIEHxNym0wgGJqUlcGdGU0CCBWjAgWEbEFQ+NoCKGhRWUHTnlMFI8CkeLuJKi0YkhWQa9fEBmqxNXTjRo4SgZsAitYyKupOhGip+nqd22EmfZHt6eILplw5vQg8qLfKMfvlK5YWlxdIdltb8+eUqpmGNISXgkqFVwcHDQI85fzQwMzY4MDciJDFSkIlipxBWszUjO87r2/Hu9Yto+noLm6hX/9mx4dHXWKmazuZ8O37/96nr3g/USqQXJGYmZebpliTmZKYklmfl5HsTpbHJqYGgEF7ihjJkvjD19Jspm/dN/aKsY5xPznT0pVCLFlrjCuxG7fhn08huZXU9cOd7p4MDgySAALVq8GBi/ey+3KmS5MrkpQgrEWTyr8t4GV/QiKIxRclrWdl10YU8G/v8QwOCwh424ptcwbEm9mLRjyafPt75an8v2WRPd5K7OY3qY+69TEqu7Tfo8/gN6g60l5cYg7lH2gmG0PUVCe4rRjeFiwOQ4GrSnqrhnnWKIJi4lNVUYluXGl2Xm54DLpWL94pLEktT43NISMF8/Ma0ktUi3pCgxrzgxGSSim5nXAAAAAP//AQAA//9mE01yTA0AAA==",
	"preconditions": {
		"variants": [
			{
				"id": "genesis",
				"epoch": 1,
				"nv": 0
			},
			{
				"id": "breeze",
				"epoch": 41281,
				"nv": 1
			},
			{
				"id": "smoke",
				"epoch": 51001,
				"nv": 2
			},
			{
				"id": "ignition",
				"epoch": 94001,
				"nv": 3
			}
		],
		"state_tree": {
			"root_cid": {
				"/": "bafy2bzaceblkigaa3smk6chink3r6riq6ekz4ti62hgycvsorwkeslut3bj7u"
			}
		}
	},
	"apply_messages": [
		{
			"bytes": "igBCAGJCAGQAQBo7msoAQgDIQgABCFgygngudm1fdmlvbGF0aW9ucy9zdGF0ZV9tdXRhdGlvbi9hZnRlci10cmFuc2FjdGlvbgI=",
			"epoch_offset": 0
		}
	],
	"postconditions": {
		"state_tree": {
			"root_cid": {
				"/": "bafy2bzacea2tr5jjinx26vq4r4p7aj7nmz2lzzpindotezixfmcvu5wmcmcx2"
			}
		},
		"receipts": [
			{
				"exit_code": 0,
				"return": "",
				"gas_used": 385031
			}
		]
	},
	"diagnostics": {
		"format": "Lotus-ExecutionTrace-V1",
		"data": "SDRzSUFBQUFBQUFBLzd5VVgyK2JNQlRGdjh0OXRqU2Jmd0ZMZTVqU2dDSXRYWlJ0MmRTcUQ4WTRRQVU0TllaQW9uejNpVC9aNkJKTm1qYVZwK3ZycS9QakhCc2VUN0FxWTZBbjJBcFZwcklBaWhGOGtVQmhoejBYRVBoSzV2MktZQXdJN21YQlJUKzBaVmtsZ0VMWERWajVNYzFURFpUZ3k5TjNmU0htYkE4VUREek9yWlhJMDZxVEpJQmdKWFFpSTZBdWdqVlRMQytCUWx6RVZaU1RYWlJuZFJqNG1IM3pLdDU2eHlqdzhjUFcwOUgzVFJJRldSMm1YdkpRYkRLZUVzeHp2K0tHLzl6MzQrVjdRREJmM25XKzNnR0ZrTzFhSXp3eUxzSTgzeWM3Y3hlYXJkVTJZUlRIanB4WkwrbzVOUStOMFZvdE8zTDdKWkUxMnp1TkxTckI2d09jejZoTGFjTjFKN2hvVWoyWDBSRENSdWhLRlVDTEtzdDZlMTlMRVFFMVhSdWI1SXhnb1pSVVFBRVEzRldLNlV2Q0FTdm5DVk94S0lFK251Q2U1VjJVbjRwNXd0SmlKY3FTeFFJUVpKSmZ0SFVNbEZpdTY1Z0llTndoK3JJN1BFS0d2T3ZwVEQwWnFxZFRXZ1BGWnpTQkJrSi80RnFxYXlBZVdIamdYQkI0Vk1lajhrM1I0V1NYUlMzNVlQdEszREJkMnhrQVl6bUZqSzE2c3YwS2hrQTBRQ0dGVjlUZXg2SVIvTDk2V2U2ektCRDZXbk5tRzVZeDZJN2xWSnNReXlHekVmQno4VWZLTmhXSFJSSDk2OXNQNFpodkZNMjZ1aEVOTVdkNE5ncTdWbDkySXJiNTY2cGFqdXZoQzhVYWZ4bzlhdHlZZUxIZndzenZkL1pPRmplK3dyOEVQQ0g0WElXY1pWazVxSnlmZmdRQUFQLy9penNtd25ZRg=="
	}
}
